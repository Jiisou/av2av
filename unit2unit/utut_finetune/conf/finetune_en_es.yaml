arch: mbart_large
criterion: label_smoothed_cross_entropy
task: translation_from_pretrained_bart
data: //data/dataset_mbart_ft_bin_data/en/es
# ddp_backend: legacy_ddp
distributed_init_method: null
# distributed_no_spawn: false
distributed_num_procs: 8
distributed_port: -1
distributed_world_size: 8
label_smoothing: 0.2 ##################
langs: en,es,fr,it,pt,el,ru,cs,da,de,fi,hr,hu,lt,nl,pl,ro,sk,sl
log_interval: 100
lr:
- 0.0001
max_update: 100000
nprocs_per_node: 8
num_workers: 4 #3
report_accuracy: true
save_dir: //model/utut/checkpoints/unit_mbart_multilingual_ft/en_es
tensorboard_logdir: //model/utut/exp/unit_mbart_multilingual_ft/en_es
total_num_update: 100000
train_subset: train
update_freq:
-  1 #72
user_dir: ./
valid_subset: valid
max_tokens: 1024
# batch_size: 256 # 128
multilang_sampling_alpha: 1.0
# dataset_impl: raw
restore_file: //model/utut/checkpoints/unit_mbart_multilingual/checkpoint_27_500000.pt
reset_optimizer: true
reset_meters: true
reset_dataloader: true
reset_lr_scheduler: true
source_lang: en
target_lang: es
prepend_bos: true
left_pad_source: false
left_pad_target: false
